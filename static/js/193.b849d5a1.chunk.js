"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[193,428],{5729:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(5508),i=a(579);const s=e=>{let{width:t,height:a,color:s="#fff"}=e;return(0,i.jsx)(n.pf,{visible:!0,height:t,width:a,color:s,ariaLabel:"tail-spin-loading",radius:"1"})}},2083:(e,t,a)=>{a.d(t,{NA:()=>u,Q4:()=>j,aF:()=>v,ow:()=>w,wt:()=>g,xW:()=>f,zs:()=>x});var n,i,s,r,o,l,d,c=a(7528),m=a(197),p=a(5475),h=a(3119);const u=(0,m.AH)(n||(n=(0,c.A)(["\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(33, 33, 33, 0.2);\n  z-index: 10;\n"]))),x=m.Ay.div(i||(i=(0,c.A)(["\n  ","\n"])),u),v=m.Ay.div(s||(s=(0,c.A)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 90%;\n  max-width: 361px;\n  min-height: 500px;\n  padding: 58px 20px 58px 20px;\n  border-radius: 16px;\n  background: #fefefe;\n  box-shadow: 0px 4px 12px 0px rgba(112, 122, 167, 0.25);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  button#close {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    background-color: transparent;\n    padding: 0;\n\n    svg {\n      fill: #a7552b;\n      transition: fill 150ms linear;\n    }\n\n    &:hover svg,\n    &:focus svg {\n      fill: #872e00;\n    }\n\n    &:active svg {\n      fill: #5a1e00;\n    }\n\n    @media screen and (min-width: 768px) {\n      top: 25px;\n      right: 25px;\n    }\n  }\n  @media screen and (min-width: 768px) {\n    max-width: 616px;\n  }\n\n  @media screen and (min-width: 768px) {\n    max-width: 926px;\n  }\n"]))),g=m.Ay.h4(r||(r=(0,c.A)(["\n  font-size: 32px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 1.5;\n  color: #204250;\n  margin-bottom: 16px;\n\n  @media screen and (min-width: 768px) {\n    font-size: 38px;\n  }\n\n  @media screen and (min-width: 1440px) {\n    font-size: 48px;\n  }\n"]))),f=m.Ay.p(o||(o=(0,c.A)(["\n  font-family: Nunito;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 1.5;\n  text-align: center;\n  color: #0b1c24;\n  margin-bottom: 32px;\n\n  @media screen and (min-width: 1440px) {\n    font-size: 22px;\n  }\n"]))),j=m.Ay.svg(l||(l=(0,c.A)(["\n  fill: none;\n  margin-bottom: 56px;\n"]))),w=(0,m.Ay)(p.N_)(d||(d=(0,c.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  max-width: 343px;\n  padding: 12px 24px;\n  color: #fff;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 1.5;\n  cursor: pointer;\n\n  &.accent-button {\n    box-shadow: 0px 4px 25px 0px rgba(93, 93, 93, 0.5);\n  }\n\n  &.secondary-button {\n    background: conic-gradient(\n      from -3deg at 100% -13%,\n      #ffa502 0deg,\n      #c85120 360deg\n    );\n    background-clip: text;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    margin-top: 32px;\n    ","\n  }\n"])),h.qO)},4700:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(5043),i=a(3216),s=a(4117),r=a(3767),o=a(2083),l=a(579);const d=e=>{let{variant:t,setShowSuccessModal:a,title:d,text:c,accentBtnText:m,setShouldResetElements:p}=e;const h=(0,i.zy)(),{t:u}=(0,s.Bd)(),x=()=>{a(!1),document.body.style.overflow="visible","create"===t&&p(!0)};return(0,n.useEffect)((()=>{const e=e=>{"Escape"===e.code&&x()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[x]),(0,l.jsx)(o.zs,{onClick:e=>{let{target:n,currentTarget:i}=e;n===i&&(a(!1),document.body.style.overflow="visible","create"===t&&p(!0))},children:(0,l.jsxs)(o.aF,{children:[(0,l.jsx)("button",{id:"close",type:"button","aria-label":"Close modal",onClick:x,children:(0,l.jsx)("svg",{width:48,height:48,children:(0,l.jsx)("use",{href:"".concat(r.A,"#icon-close")})})}),(0,l.jsx)(o.wt,{children:u(d)}),(0,l.jsx)(o.xW,{children:u(c)}),(0,l.jsx)(o.Q4,{width:177,height:177,children:(0,l.jsx)("use",{href:"".concat(r.A,"#icon-success")})}),(0,l.jsx)(o.ow,{to:"apply"===t?"/profile/responses".concat("/needHelp"===(null===h||void 0===h?void 0:h.pathname)?"/need":"/provide"):"/",state:{from:h},className:"accent-button",onClick:()=>document.body.style.overflow="visible",children:u(m)}),"apply"===t&&(0,l.jsx)(o.ow,{to:"/",className:"secondary-button",state:{from:h},onClick:()=>document.body.style.overflow="visible",children:u("createTask.successWindow.backHome")})]})})}},5193:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var n=a(5043),i=a(3216),s=a(4117),r=a(1509),o=a(4003),l=a(3119),d=a(5475),c=a(3892),m=a(8250),p=a(9670),h=a(3262),u=a(3767),x=a(579);const v=()=>(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"40",viewBox:"0 0 41 40",fill:"none",children:[(0,x.jsxs)("g",{clipPath:"url(#clip0_905_8098)",children:[(0,x.jsx)("path",{d:"M20.5 11.2266V29.0043",stroke:"url(#paint0_angular_905_8098)",strokeWidth:"4",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M11.7173 20.5391H29.4951",stroke:"url(#paint1_angular_905_8098)",strokeWidth:"4",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M31.6111 38.1152H9.38889C5.58235 38.1152 2.5 35.0329 2.5 31.2263V9.00412C2.5 5.19758 5.58235 2.11523 9.38889 2.11523H31.6111C35.4177 2.11523 38.5 5.19758 38.5 9.00412V31.2263C38.5 35.0329 35.4177 38.1152 31.6111 38.1152Z",stroke:"url(#paint2_angular_905_8098)",strokeWidth:"4",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,x.jsxs)("defs",{children:[(0,x.jsxs)("radialGradient",{id:"paint0_angular_905_8098",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.5 8.91546) rotate(-90.1851) scale(33.4224 2.0351)",children:[(0,x.jsx)("stop",{stopColor:"#FFA502"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#C85120"})]}),(0,x.jsxs)("radialGradient",{id:"paint1_angular_905_8098",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(29.4951 20.4091) rotate(-135.603) scale(2.68715 25.3122)",children:[(0,x.jsx)("stop",{stopColor:"#FFA502"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#C85120"})]}),(0,x.jsxs)("radialGradient",{id:"paint2_angular_905_8098",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(40.5 -5.08476) rotate(-93.2878) scale(75.324 81.2703)",children:[(0,x.jsx)("stop",{stopColor:"#FFA502"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#C85120"})]}),(0,x.jsx)("clipPath",{id:"clip0_905_8098",children:(0,x.jsx)("rect",{width:"40",height:"40",fill:"white",transform:"translate(0.5)"})})]})]});var g=a(4409),f=a(5729),j=a(4700),w=a(9570);const k=e=>{var t,a,r,o;let{setCategoriesFilters:l,setRegionsFilters:k,categories:b,region:y,variant:q}=e;const[T,A]=(0,n.useState)(!1),[S,z]=(0,n.useState)(!1),[C,_]=(0,n.useState)([]),[Y,N]=(0,n.useState)([]),[I,$]=(0,n.useState)(!1),[W,F]=(0,n.useState)(!1),[M,R]=(0,n.useState)(!1),[E,L]=(0,n.useState)(!1),[Z,O]=(0,n.useState)(!1),[H,P]=(0,n.useState)((()=>{var e;return null!==(e=JSON.parse(localStorage.getItem("updateDetails")))&&void 0!==e?e:{reqId:null,reqType:null,title:"",description:"",comment:"",region:[],categories:[]}})),U=(0,i.Zp)(),B=(0,n.useRef)(null),{t:D}=(0,s.Bd)(),[J]=(0,d.ok)(),V=(0,i.zy)();(0,n.useEffect)((()=>{J.get("reqId")||H.title?(l(H.categories),k(H.region)):localStorage.removeItem("updateDetails")}),[H.title,H.categories,H.region,l,k,J]);const K={title:H.title,description:H.description,comment:H.comment},{errors:G,touched:Q,getFieldProps:X,handleSubmit:ee,isSubmitting:te}=(0,c.Wx)({initialValues:K,validationSchema:p.zo,onSubmit:async(e,t)=>{var a;let{title:n,description:i,comment:s}=e;const r=H.reqType?H.reqType:"/needHelp"===q?m.Xk:m.wQ,o={title:n,categoryIds:b.map((e=>parseInt(e,10))),region:y[0],description:i,comment:s,requestType:r};if(!await p.zo.isValid(o))return;H.reqId?(await(0,h.G8)({id:H.reqId,body:o}),O(!0),P({reqId:null,reqType:null,title:"",description:"",comment:"",region:[],categories:[]}),U("/profile/requests")):(await(0,h.W7)(o,Y),L(!0),document.body.style.overflow="hidden",R(!1)),t.resetForm(),k([]),l([]);const{category:d,region:c}=null===B||void 0===B||null===(a=B.current)||void 0===a?void 0:a.elements;d.forEach((e=>e.checked=!1)),c.forEach((e=>e.checked=!1))}});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(w.rI,{ref:B,onSubmit:ee,children:[(0,x.jsx)(w.DP,{children:(0,x.jsxs)(w.nY,{children:[D("createTask.name"),(0,x.jsx)(w.fs,{id:"name",name:"title",placeholder:D("createTask.placeholder"),maxLength:300,...X("title"),className:G.title&&Q.title&&"invalid"}),G.title&&Q.title&&(0,x.jsx)(w.IW,{children:D(G.title)})]})}),(0,x.jsx)(g.A,{showMore:!1,isUpdating:H.reqId,variant:"createTask",setCategoriesFilters:l,setRegionsFilters:k,areCategoriesEmpty:T,isRegionEmpty:S,setAreCategoriesEmpty:A,setIsRegionEmpty:z,defaultCheckedCategories:H.categories,defaultCheckedRegions:H.region,shouldResetElements:M}),(0,x.jsxs)(w.KH,{children:[(0,x.jsxs)(w.u,{children:[(0,x.jsx)(w.J2,{children:(0,x.jsxs)(w.nY,{children:[D("createTask.name"),(0,x.jsx)(w.fs,{id:"name",name:"title",placeholder:D("createTask.placeholder"),maxLength:100,...X("title"),className:G.title&&Q.title&&"invalid"}),G.title&&Q.title&&(0,x.jsx)(w.IW,{children:D(G.title)})]})}),(0,x.jsxs)(w.nY,{children:[D("createTask.descr"),(0,x.jsx)(w.fs,{name:"description",placeholder:D("createTask.placeholder"),maxLength:9e3,...X("description"),className:G.description&&Q.description&&"invalid"}),G.description&&Q.description&&(0,x.jsx)(w.IW,{children:D(G.description)})]}),(0,x.jsxs)(w.nY,{children:[D("createTask.additional"),(0,x.jsx)(w.fs,{name:"comment",maxLength:9e3,placeholder:D("createTask.placeholder"),...X("comment")}),G.comment&&Q.comment&&(0,x.jsx)(w.IW,{children:D(G.comment)})]})]}),(0,x.jsxs)(w.sV,{children:[I&&(0,x.jsx)("p",{className:"upload-error",children:D("createTask.validation.fileMaxSize")}),W&&(0,x.jsx)("p",{className:"upload-error",children:D("createTask.validation.maxQnty")}),(0,x.jsxs)(w.Nw,{className:I||W?"invalid":"",children:[(0,x.jsxs)("label",{className:C.length>=m.Jt?"disabled":"",children:[(0,x.jsxs)("p",{children:[" ",D("createTask.addPic")]}),(0,x.jsx)(v,{}),(0,x.jsx)("input",{type:"file",name:"attachment",accept:".jpg, .jpeg, .png",onChange:e=>{const t=e.target.files[0],a=[],n=new FileReader;if((null===t||void 0===t?void 0:t.size)>m.Mf)return $(!0),void setTimeout((()=>$(!1)),5e3);n.onload=e=>{const n=e.target.result;if(!(a.reduce(((e,t)=>e+t.size),0)+t.size>m.Ev)){if(a.length>=m.Jt||C.length>=m.Jt)return F(!0),void setTimeout((()=>F(!1)),5e3);$(!1),F(!1),a.push(t),_((e=>[...e,n])),N((e=>[...e,t]))}},n.readAsDataURL(t)},disabled:C.length>=m.Jt})]}),(0,x.jsx)(w._s,{children:C.map(((e,t)=>(0,x.jsx)("li",{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:e,alt:"Preview of uploaded file"}),(0,x.jsx)("button",{type:"button","aria-label":"Delete image",onClick:()=>{return t=e,C.length||($(!1),F(!1)),void _((e=>e.filter((e=>e!==t))));var t},children:(0,x.jsx)("svg",{width:16,height:16,children:(0,x.jsx)("use",{href:"".concat(u.A,"#icon-delete-image")})})})]})},t)))})]}),(0,x.jsx)("div",{onClick:()=>{y.length||z(!0),b.length||A(!0)},children:(0,x.jsx)(w.x4,{type:"submit",className:"accent-button",disabled:te||(null===(t=Object.keys(G))||void 0===t?void 0:t.length)>0||(null===y||void 0===y?void 0:y.length)<=0||(null===b||void 0===b?void 0:b.length)<=0,children:te?(0,x.jsx)(f.A,{width:20,height:20}):D("createTask.post")})})]})]})]}),E&&(0,x.jsx)(j.A,{variant:"create",title:"createTask.successWindow.congrat",text:null!==V&&void 0!==V&&null!==(a=V.state)&&void 0!==a&&a.from?"/needHelp"===(null===V||void 0===V||null===(r=V.state)||void 0===r||null===(o=r.from)||void 0===o?void 0:o.pathname)?"createTask.successWindow.textCreateRequest":"createTask.successWindow.textCreateOffer":"createTask.successWindow.textCreate",accentBtnText:"createTask.successWindow.backHome",setShowSuccessModal:L,setShouldResetElements:R}),Z&&(0,x.jsx)(j.A,{variant:"update",title:"createTask.successWindow.sent",text:"createTask.successWindow.updatedText",accentBtnText:"createTask.successWindow.backHome",setShowSuccessModal:O})]})},b=()=>{var e,t,a,d,c;const[m,p]=(0,n.useState)([]),[h,u]=(0,n.useState)([]),{t:v}=(0,s.Bd)(),g=(0,i.zy)();return(0,x.jsx)(l.U9,{children:(0,x.jsxs)(r.J,{children:[(0,x.jsx)(o.A,{variant:"tasks",to:null===g||void 0===g||null===(e=g.state)||void 0===e?void 0:e.from,text:"createTask.goToSearch"}),(0,x.jsx)(l.rB,{children:"/needHelp"===(null===g||void 0===g||null===(t=g.state)||void 0===t||null===(a=t.from)||void 0===a?void 0:a.pathname)?v("createTask.titleRequest"):v("createTask.titleOffer")}),(0,x.jsx)(k,{setCategoriesFilters:p,setRegionsFilters:u,categories:m,region:h,variant:null===g||void 0===g||null===(d=g.state)||void 0===d||null===(c=d.from)||void 0===c?void 0:c.pathname})]})})},y=()=>((0,n.useEffect)((()=>{localStorage.setItem("location","/createTask")}),[]),(0,x.jsx)(b,{}))},8852:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(899);const i=n.Ik({firstName:n.Yj().min(2,"validation.name.min").max(50,"validation.name.max").matches(/^[^\d!@#$%^&*()_+=\-[\]{};:"\\|,.<>/?]+$/,"validation.name.matches").required("validation.required"),lastName:n.Yj().max(50,"validation.name.max").matches(/^[^\d!@#$%^&*()_+=\-[\]{};:"\\|,.<>/?]*$/,"validation.name.matches").min(2,"validation.name.min").nullable(),phoneNumber:n.Yj().matches(/^\+380\d{9}$/,"validation.phone.invalid").required("validation.required"),region:n.Yj().max(50,"validation.reg.max").matches(/^[^\d!@#$%^&*()_+=\-[\]{};:"\\|,.<>/?]+$/,"validation.reg.matches").nullable(),organization:n.Yj().max(200,"validation.organization.max").nullable(),comment:n.Yj().max(500,"validation.about.max").nullable()})},9670:(e,t,a)=>{a.d(t,{nM:()=>d,SA:()=>l,zo:()=>o,y4:()=>s,$w:()=>r,zK:()=>i});var n=a(899);const i=n.Ik({firstName:n.Yj().min(2,"validation.name.min").max(50,"validation.name.max").matches(/^[^\d!@#$%^&*()_+=\-[\]{};:"\\|,.<>/?]+$/,"validation.name.matches").required("validation.required"),lastName:n.Yj().max(50,"validation.name.max").matches(/^[^\d!@#$%^&*()_+=\-[\]{};:"\\|,.<>/?]*$/,"validation.name.matches").min(2,"validation.name.min").nullable(),phoneNumber:n.Yj().matches(/^\+380\d{9}$/,"validation.phone.invalid").required("validation.required"),email:n.Yj().email("validation.email.invalid").matches(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,"validation.email.invalid").required("validation.required"),password:n.Yj().min(8,"validation.password.length").max(100,"validation.password.length").matches(/[A-Z]/,"validation.password.uppercase").matches(/[a-z]/,"validation.password.lowercase").matches(/[0-9]/,"validation.password.digit").matches(/^[a-zA-Z0-9]+$/,"validation.password.specialSym").required("validation.required"),repeatPassword:n.Yj().oneOf([n.KR("password")],"validation.password.confirm").required("validation.required"),agreement:n.zM().oneOf([!0]).required()}),s=n.Ik().shape({email:n.Yj().email("validation.email.invalid").matches(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,"validation.email.invalid").required("validation.required")}),r=n.Ik().shape({password:n.Yj().min(8,"validation.password.length").max(100,"validation.password.length").matches(/[A-Z]/,"validation.password.uppercase").matches(/[a-z]/,"validation.password.lowercase").matches(/[0-9]/,"validation.password.digit").matches(/^[a-zA-Z0-9]+$/,"validation.password.specialSym").required("validation.required"),repeatPassword:n.Yj().oneOf([n.KR("password")],"validation.password.confirm").required("validation.required")}),o=n.Ik({title:n.Yj().min(5,"createTask.validation.titleMin").max(100,"createTask.validation.titleMax").required("createTask.validation.enterData"),description:n.Yj().min(40,"createTask.validation.descrMin").max(9e3).required("createTask.validation.enterData"),comment:n.Yj().max(9e3)}),l=n.Ik({firstName:n.Yj().min(2,"validation.name.min").max(50,"validation.name.max").matches(/^[^\d!@#$%^&*()_+=\-[\]{};:"\\|,.<>/?]+$/,"validation.name.matches").required("validation.required"),lastName:n.Yj().max(50,"validation.name.max").matches(/^[^\d!@#$%^&*()_+=\-[\]{};:"\\|,.<>/?]*$/,"validation.name.matches").min(2,"validation.name.min").nullable(),phoneNumber:n.Yj().matches(/^\+380\d{9}$/,"validation.phone.invalid").required("validation.required"),region:n.Yj().required("validation.required"),comment:n.Yj().max(9e3),agreement:n.zM().oneOf([!0]).required()});a(8852);const d=n.Ik().shape({oldPassword:n.Yj().required("validation.required"),newPassword:n.Yj().min(8,"validation.password.length").max(100,"validation.password.length").matches(/[A-Z]/,"validation.password.uppercase").matches(/[a-z]/,"validation.password.lowercase").matches(/[0-9]/,"validation.password.digit").matches(/^[a-zA-Z0-9]+$/,"validation.password.specialSym").required("validation.required"),repeatNewPassword:n.Yj().oneOf([n.KR("newPassword")],"validation.password.confirm").required("validation.required")})}}]);
//# sourceMappingURL=193.b849d5a1.chunk.js.map